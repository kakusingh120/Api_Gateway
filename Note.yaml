So you have:

Auth Service â†’ handles login, signup, issues JWT / tokens.

Booking Service â†’ handles bookings.

API Gateway â†’ entry point, forwards traffic, does checks.

ðŸ”¹ Where should auth logic live?

Auth Service is the source of truth (user data, token generation, refresh tokens).

API Gateway is the gatekeeper â†’ validates the token before letting the request reach Booking Service.

So, the gateway doesnâ€™t re-authenticate, it just verifies the token (JWT signature, expiry, etc.).

ðŸ”¹ Flow with Separate Auth Service

User logs in â†’ hits Auth Service (/auth/login).

Auth service validates credentials.

Issues JWT (signed with JWT_SECRET).

User stores JWT (in localStorage/cookie).

User tries to access Booking â†’ sends JWT in Authorization: Bearer <token>.

API Gateway intercepts request:

Middleware extracts JWT.

Verifies using jwt.verify(token, JWT_SECRET).

If valid â†’ forward to Booking Service.

If invalid â†’ return 401/403.